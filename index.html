<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Subzero Hellfrost Riders Swag</title>
  <style>
    /* ---------------------- BODY ---------------------- */
    body {
      font-family: Arial, sans-serif;
      max-width: 700px;
      margin: auto;
      padding: 20px;
      color: #fff;
      text-align: center;
      background: #000;
      position: relative;
      overflow-x: hidden;
    }

    /* ---------------------- SHIMMERING ICE ---------------------- */
    #iceContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 0;
    }

    .iceShard {
      position: absolute;
      width: 1px;
      height: 10px;
      background: linear-gradient(to bottom, #fff, #FFD700);
      opacity: 0.6;
      border-radius: 50%;
      box-shadow: 0 0 6px #fff, 0 0 10px #FFD700;
      animation: fall linear infinite;
    }

    @keyframes fall {
      0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
      25% { opacity: 0.5; }
      50% { opacity: 0.9; }
      75% { opacity: 0.5; }
      100% { transform: translateY(100vh) rotate(360deg); opacity:0; }
    }

    /* ---------------------- TITLE ---------------------- */
    h1 {
      position: relative;
      color: #FFD700;
      text-shadow: 0 0 5px #FFD700, 0 0 15px #FFD700, 0 0 30px rgba(255,215,0,0.7);
      z-index: 2;
    }

    /* ---------------------- PREVIEW BOX ---------------------- */
    .preview-container {
      display: flex;
      justify-content: space-between;
      margin: 20px 0;
      border: 2px solid #FFD700;
      border-radius: 10px;
      padding: 10px;
      background-color: #111;
      flex-wrap: wrap;
      position: relative;
      z-index: 2;
      box-shadow: 0 0 20px #FFD700, 0 0 40px rgba(255,215,0,0.3), inset 0 0 25px rgba(255,215,0,0.2);
    }

    .preview-section {
      flex: 1;
      min-width: 250px;
      margin: 5px;
    }

    .preview-section img {
      width: 100%;
      border-radius: 5px;
    }

    .caption {
      background-color: rgba(0,0,0,0.85);
      color: #FFD700;
      font-weight: bold;
      padding: 5px;
      text-transform: uppercase;
      margin-top: 5px;
    }

    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
      text-align: left;
      color: #fff;
    }

    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border: 1px solid #FFD700;
      border-radius: 5px;
      background-color: #111;
      color: #fff;
      position: relative;
      z-index: 2;
    }

    button {
      background-color: #000;
      color: #FFD700;
      border: 2px solid #FFD700;
      cursor: pointer;
      margin-top: 10px;
      font-size: 16px;
      border-radius: 5px;
      font-weight: bold;
      padding: 8px;
      transition: 0.3s ease;
      position: relative;
      z-index: 2;
    }

    button:hover {
      box-shadow: 0 0 12px #FFD700;
      transform: translateY(-2px);
    }

    #cartItems {
      margin-top: 15px;
      text-align: left;
      border: 1px solid #FFD700;
      padding: 10px;
      border-radius: 5px;
      max-height: 200px;
      overflow-y: auto;
      background-color: #111;
      position: relative;
      z-index: 2;
    }

    #cartItems li {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
    }

    .removeBtn {
      background-color: #330000;
      border: 1px solid red;
      color: red;
      font-size: 12px;
      padding: 2px 5px;
      border-radius: 3px;
      cursor: pointer;
      margin-left: 10px;
    }

    #total {
      font-weight: bold;
      margin-top: 10px;
      text-align: right;
      color: #FFD700;
      font-size: 1.1em;
      position: relative;
      z-index: 2;
    }
  </style>
</head>
<body>

  <h1>Subzero Hellfrost Riders Swag</h1>

  <div id="iceContainer"></div>

  <div class="preview-container">
    <div class="preview-section">
      <img id="frontImage" alt="Front" style="display:none;">
      <div class="caption" id="frontCaption">Please make a selection</div>
    </div>
    <div class="preview-section">
      <img id="backImage" alt="Back Patch" style="display:none;">
      <div class="caption" id="backCaption">Please make a selection</div>
    </div>
  </div>

  <form id="orderForm" style="position: relative; z-index:2;">
    <!-- Item, Size, Front, Back Patch, etc. (same as before) -->

    <label>Name:</label>
    <input id="customerName" required>

    <label>Road Name (Optional):</label>
    <input id="customerRoad" placeholder="Optional">

    <label>Street Address:</label>
    <textarea id="customerAddress" required></textarea>

    <label>City:</label>
    <input id="customerCity" required>

    <label>State:</label>
    <input id="customerState" required>

    <label>Zip Code:</label>
    <input id="customerZip" required>

    <label>Email:</label>
    <input id="customerEmail" type="email" required>

    <label>Phone:</label>
    <input id="customerPhone" required>

    <label>Notes:</label>
    <textarea id="customerNotes" placeholder="Example: black out rockers"></textarea>

    <button id="submitOrderBtn">Submit Order</button>
  </form>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
    emailjs.init("aQIlRxnSDExbWv09B");

    // Cart and Item Handling (Same as Before)

    document.getElementById("submitOrderBtn").addEventListener("click", () => {
      // Check if the cart is empty
      if (cart.length === 0) {
        alert("Please add items to cart.");
        return;
      }

      // Calculate total order cost
      const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      
      // Prepare order details
      const orderDetails = cart
        .map(
          (item) =>
            `${item.quantity}x ${item.item} (${item.size}) - Front ${item.front} / Back ${item.back} - Sleeve: ${item.sleeve} - Color: ${item.color}`
        )
        .join("\n");

      // Combine address fields into one 'address' string
      const customerAddress = `${document.getElementById("customerAddress").value}, ${document.getElementById("customerCity").value}, ${document.getElementById("customerState").value} ${document.getElementById("customerZip").value}`;

      // Debug: Log the customer address to make sure it's correct
      console.log("Customer Address:", customerAddress);

      // Create data object
      const data = {
        name: document.getElementById("customerName").value,
        road: document.getElementById("customerRoad").value, // Optional field
        email: document.getElementById("customerEmail").value,
        phone: document.getElementById("customerPhone").value,
        address: customerAddress,  // Send the full address
        notes: document.getElementById("customerNotes").value,
        order: orderDetails,
        total: `$${total.toFixed(2)}`,
      };

      // Debug: Log the entire data object to ensure it's being sent correctly
      console.log("Sending data to EmailJS:", data);

      // Send
